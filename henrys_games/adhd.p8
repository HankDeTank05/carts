pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
--adhd proof-of-concept
--by hankdetank05

function _init()

	link={
		sprx=8,--x-val of topleft px
		spry=0,
		next_spr=1,
		spr2=false,
		size=16,--sprite size
		spr_xspeed=10,
		spr_yspeed=15,
		xpos=17,
		ypos=17,
		frame_count=0,
		moving=false,
		moving_vert=false,
		stuck=false,
		sprs={{x1=8,y1=16,x2=24,y2=16},--left
		      {x1=40,y1=0,x2=56,y2=0},--right
		      {x1=8,y1=0,x2=24,y2=0},--up
		      {x1=40,y1=16,x2=56,y2=16}},--down
		dir=3
		}
		
end

function _update60()
		
		cc_lm={x=link.xpos,y=link.ypos+((link.size+2)/2)}
		cc_lb={x=link.xpos,y=link.ypos+link.size-2}
		
		cc_rm={x=link.xpos+link.size-1,y=link.ypos+((link.size+2)/2)}
		cc_rb={x=link.xpos+link.size-1,y=link.ypos+link.size-2}
		
		cc_ul={x=link.xpos+1,y=link.ypos+(link.size/2)}
		cc_ur={x=link.xpos+link.size-2,y=link.ypos+(link.size/2)}
		
		cc_dl={x=link.xpos+1,y=link.ypos+link.size-1}
		cc_dr={x=link.xpos+link.size-2,y=link.ypos+link.size-1}

	if not(link.stuck) then
		if btn(⬅️) then
			link.dir=1
			link.moving=true
			link.moving_vert=false
			local solid_left_mid=fget(mget(flr(cc_lm.x/8),flr(cc_lm.y/8)),0)
			local solid_left_btm=fget(mget(flr(cc_lb.x/8),flr(cc_lb.y/8)),0)
			if link.xpos>0 and not(solid_left_btm or solid_left_mid) then
				link.xpos-=1
			end
			
		elseif btn(➡️) then
			link.dir=2
			link.moving=true
			link.moving_vert=false
			local solid_right_mid=fget(mget(flr(cc_rm.x/8),flr(cc_rm.y/8)),0)
			local solid_right_btm=fget(mget(flr(cc_rb.x/8),flr(cc_rb.y/8)),0)
			if link.xpos+link.size<127 and not(solid_right_btm or solid_right_mid) then
				link.xpos+=1
			end
			
		elseif btn(⬆️) then
			link.dir=3
			link.moving=true
			link.moving_vert=true
			local solid_up_left =fget(mget(flr(cc_ul.x/8),flr(cc_ul.y/8)),0)
			local solid_up_right=fget(mget(flr(cc_ur.x/8),flr(cc_ur.y/8)),0)
			if link.ypos>0 and not(solid_up_left or solid_up_right) then
				link.ypos-=1
			end
			
		elseif btn(⬇️) then
			link.dir=4
			link.moving=true
			link.moving_vert=true
			local solid_down_left =fget(mget(flr(cc_dl.x/8),flr(cc_dl.y/8)),0)
			local solid_down_right=fget(mget(flr(cc_dr.x/8),flr(cc_dr.y/8)),0)
			if link.ypos+link.size<127 and not(solid_down_left or solid_down_right) then
				link.ypos+=1
			end
						
		else link.moving=false end
	else
		--play sound and vibrate the
		--sprite in the direction
		--of the button press
	end
			
	if link.sprx!=link.sprs[link.dir].x1 or link.sprx!=link.sprs[link.dir].x2 then
		if spr2 then
			link.sprx=link.sprs[link.dir].x2
			link.spry=link.sprs[link.dir].y2
		else
			link.sprx=link.sprs[link.dir].x1
			link.spry=link.sprs[link.dir].y1
		end
	end

	if link.moving then
		link.frame_count+=1
		if link.moving_vert then
			if link.frame_count>=link.spr_yspeed then
				if spr2 then
					link.sprx=link.sprs[link.dir].x1
					spr2=false
				else
					link.sprx=link.sprs[link.dir].x2
					spr2=true
				end
				link.frame_count=0
			end
		else
			if link.frame_count>=link.spr_xspeed then
				if spr2 then
					link.sprx=link.sprs[link.dir].x1
					spr2=false
				else
					link.sprx=link.sprs[link.dir].x2
					spr2=true
				end
				link.frame_count=0
			end
		end
	end
end

function _draw()
	cls()
	
	map(0,0,0,0,16,16)
	
	sspr(link.sprx,link.spry,link.size,link.size,link.xpos,link.ypos)
	
	--print(link.sprx,0,6*0,0)
	--print(link.frame_count,0,6*1,0)
	
	--[[pset(cc_lm.x,cc_lm.y,8)
	pset(cc_lb.x,cc_lb.y,8)
	
	pset(cc_rm.x,cc_rm.y,8)
	pset(cc_rb.x,cc_rb.y,8)
	
	pset(cc_ul.x,cc_ul.y,8)
	pset(cc_ur.x,cc_ur.y,8)
	
	pset(cc_dl.x,cc_dl.y,8)
	pset(cc_dr.x,cc_dr.y,8)--]]
	
end
__gfx__
000000000000005550000000000000055500000000000555550000000000000000000000ff555555555555ffffffff5555ffffffff5555555555555500000000
000000000000055555000000000000555550000000005bbbfb5500000000555555000000f59999999999995fffff55999955fffff59999999999999900000000
00700700000005ffff500000000005ffff5000000005bbffb5ff50000055bbbffb5505005999999999999995fff5999999995fff599999999999999900000000
0007700000055f5555f5500000055f5555f55000005bb5bb5ffb555005bbbffbb5ff55005999999999999995fff5994444995fff599999999999999900000000
00077000005f55bffb55f500005f55bffb55f50005bb5f55ffb5550005bbb5bb5ffb55005999999999999995ff599455554995ff599999999999999900000000
00700700005f5bbffbb5f500005f5bbffbb5f50005bb5fb5b555000005bb5f55ffb550005999999999999995f55995555559955f599999999999999900000000
00000000005f5b5bfbb5f500005f5bbfb5b5f500005b5ff55f5f5500005b5fb5b55500005999999999999995f55995555559955f599999999999999900000000
00000000005b55bbfbb5b500005b5bbfbb55b50000055ff5ff5ff500005b5ff55f5f55005999999999999995f59599555599595f599999999999999900000000
00000000000555bbbb555000000555bbbb55500000005bf5fffb500000055ff5ff5ff5005999999999999995f59549999994595f599999999999999900000000
000000000005b5bbb5b5b500005b5b5bbb5b5000000055b5bbb5000000005bf5fffb50005f999999999999f5f549559ff955945f5f9999999999999900000000
00000000005fb5bb5bb5b500005b5bb5bb5bf50000005b5555550000000055555555000059f9999999999f95f54999555599945f59f999999999999900000000
00000000005f5b55bbfb55000055bfbb55b5f5000005bb5ff5b5000000055bb5ff500000549ffffffffff945f54949999994945f549fffffffffffff00000000
000000000005bfffffbb50000005bbfffffb50000005bb5ff5f50000005f5bb5ff500000f54444444444445fff54449ff94445fff54444444444444400000000
0000000000055bbbbb555000000555bbbbb550000005555555b50000005f55bb55550000f55555555555555fff544499994445fff55555555555555500000000
000000000005555555ff55000055ff555555500000005ffff5550000005ff555ffff5000f54994555549945ffff5544994455ffff54994554444444400000000
0000000000005555555550000005555555550000000555555555500000555555555550004455554444555544fffff555555fffff445555444444444400000000
000000000000005555500000000000000000000000000555550000000000005555500000ffffffffffffffff008888888888880055555555555555ff00000000
00000000000055bfbbb50000000005555550000000005bffbb500000000005bbffb50000ffffffffffffffff0888888888888880999999999999995f00000000
000000000005ff5bffbb500005055bffbbb5500000055b55bbb5500000055bbb55b55000f44fffffffffffff0888777766668880999999999999999500000000
000000000555bff5bb5bb500055ff5bbffbbb500005f55ffffb5f500005f5bffff55f500ffffffffffffffff088756dddd656880999999999999999500000000
0000000000555bff55f5bb50055bff5bb5bbb500005f5f5555f5f500005f5f5555f5f500ffffffffffffffff08876d8888d6d880999999999999999500000000
000000000000555f5bf5bb500055bff55f5bb500005f55555555f500005f55555555f500ffffffff444fffff0887d8888886d880999999999999999500000000
000000000055f5f55ff5b500000555b5bf5b5000005bb555555bb500005bb555555bb500aaaaaaaaaaaaaaaa0086d8888886d800999999999999999500000000
00000000005ff5ff5ff55000055f5f55ff5b50000005ff5ff5ff50000005ff5ff5ff500044444444444444440006d0000006d000999999999999999500000000
000000000005bfff5fb5000005ff5ff5ff5500000005bf5ff5fb50000005bf5ff5fb5000ff444fffffffffff0006d0000006d000999999999999999500000000
0000000000005bbb5b550000005bfff5fb500000005b5bffffb5b500005b5bffffb5b500ffffffffffffffff0006d0000007d00099999999999999f500000000
000000000000555555b50000000555555550000005fb55555555b500005b55555555bf50ffffffffffffffff0086d8888886d8009999999999999f9500000000
0000000000005b5ff5bb500000005ff5bb55000005f55bbbb5ffb500005bff5bbbb55f50ffffffffffff44ff0886d8888886d880fffffffffffff94500000000
0000000000005f5ff5bb500000005ff5bb5f50000055bffff5ff50000005ff5ffffb5500ffffffffffffffff0086d8888886d800444444444444445f00000000
0000000000005b55555550000005555bb55f5000000555bbbb550000000055bbb5555000ffffffffffffffff0006d6d006d6d000555555555555555f00000000
000000000000555ffff50000005ffff555ff50000055bff555555000000555555ffb5500aaaaaaa444aaaaaa0006d0000006d000444444445549945f00000000
00000000000555555555500000555555555550000005555555550000000055555555500044444444444444440006d0000006d000444444444455554400000000
55555555555555557777777777777777777777777777777777777777777777770005050555500000000000000000000000505055550000000000000000000000
55555555555555557444444444444444444444444444444444444444444444470005555555555000000000000000000000555555555500000000000000000000
454444444544444474444444444444444444444444444444444444444444444700055ffffff55500000000000000000000555555555550000000000000000000
555555555555555574455555555555555555555555555555555555555555544700555ffffff5550000000000000000000005ffff555555000000000000000000
444445444444454474455777777777777777777777777777777777777775544705f5ff5ff5ff5f500000000000000000005f5f5fff5ff5000000000000000000
444445444444454474457577777777777777777777777777777777777757544705f5f555f5ff5f50000000000000000000555f5ffffff5000000000000000000
9999959999999599744577577777777777777777777777777777777775775447058f58ff88fff8500000000000000000058ff8ffffff85000000000000000000
5555555555555555744577757777777777777777777777777777777757775447005f58888855f5000000000000000000058888555fff50000000000000000000
7777777777777777744577775555555555555555555555555555555577775447005f5555555ff500000000000000000005555555ffff50000000000000000000
77777777777777777445777755999999999995999999959999999955777754470055f55555ff585000000000000000000055555ffff550000000000000000000
777777777777777774457777595444444444454444444544444445957777544705f55fffff558850000000000000000000058fff555885000000000000000000
777777777777777774457777594544444444454444444544444454957777544705f5855555ff5850000000000000000000005555ff5885000000000000000000
5555555555555555744577775944555555555555555555555555449577775447005588fff5ff5500000000000000000000058885ff5885000000000000000000
44444444444444447445777759445544454444444544444444554495777754470005555888555000000000000000000000055555555550000000000000000000
4444444444444444744577775944545555555555555555555545449577775447005fff85555555000000000000000000000058ffff8500000000000000000000
77777777777777777445777759445455555555555555555555454495777754470005555555550000000000000000000000055555555550000000000000000000
55454495777754477445777759445455744577775944545555454495777754470555005555500000000000000000000000000000000000000000000000000000
55454495777754477445777759445455744577775944545555454495777754475fff555555555000000000000000000000000000000000000000000000000000
55454495777754477445777759445455744577775944554444554495777754475fff5f5ff5f55500000000000000000000000000000000000000000000000000
55455555777754477445777755555455744577775944555555554495777754475ff55555f5f55500000000000000000000000000000000000000000000000000
5545449577775447744577775944545574457777594544444444549577775447555558ff8fff5550000000000000000000000000000000000000000000000000
554544957777544774457777594454557445777759544444444445957777544758855888855f5f50000000000000000000000000000000000000000000000000
555544957777544774457777594455557445777755999999999999557777544758855555555fff50000000000000000000000000000000000000000000000000
55454495777754477445777759445455744577775555555555555555777754470588555555fff850000000000000000000000000000000000000000000000000
554544957777544774457777594454557445777577777777777777775777544705885ff55ffff500000000000000000000000000000000000000000000000000
5545449577775447744577775944545574457757777777777777777775775447005858f55fff5850000000000000000000000000000000000000000000000000
55454495777754477445777759445455744575777777777777777777775754470005858ff8555885000000000000000000000000000000000000000000000000
55455555777754477445777755555455744557777777777777777777777554470005f855555ff585000000000000000000000000000000000000000000000000
554544957777544774457777594454557445555555555555555555555555544700588ffff85ff550000000000000000000000000000000000000000000000000
55454495777754477445777759445455744444444444444444444444444444470555588888855550000000000000000000000000000000000000000000000000
55554495777754477445777759445555744444444444444444444444444444475fff85555558fff5000000000000000000000000000000000000000000000000
55454495777754477445777759445455777777777777777777777777777777775555555555555555000000000000000000000000000000000000000000000000
__gff__
0000000000000000000101010101010000010101010101010101010101010100000000000000000000000000000101000001010101010101010000000001010001010101010101010000000000000000010101010101010100000000000000000101010101010101000000000000000001010101010101010000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4243444544454445444544454445464700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5253545554555455545554555455565700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6263292a292a292a292a292a292a606100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7273393a393a393a393a393a393a707100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6263292a292a292a292a0d0e2d2e606100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7273393a393a393a393a1d1e3d3e707100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6263292a292a292a292a292a292a606100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7273393a393a393a393a393a393a707100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6263090a292a090a292a090a292a606100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7273191a393a191a2a3a191a393a707100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6263292a292a29393a2a292a292a606100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7273090a292a090a292a090a292a707100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6263191a393a191a393a191a393a606100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7273393a393a393a393a393a393a707100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6465404140414041404140414041666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7475505150515051505150515051767700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
