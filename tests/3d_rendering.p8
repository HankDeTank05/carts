pico-8 cartridge // http://www.pico-8.com
version 29
__lua__

grav=1

speed=1
size=16

min_val=0
max_val=127

max_dist_scale=0.5

function _init()
	p={}
	p.x=64
	p.y=64
	p.z=64
	
	p.dx=0
	p.dy=0
	p.dz=0
end

function _update60()
	//move in 3d
	
	//up/down
	--[[if btn(‚¨ÜÔ∏è) and p.y>min_val then
		p.y-=speed
	elseif btn(‚¨áÔ∏è) and p.y<max_val then
		p.y+=speed
	end--]]
	
	//gravity
	p.dy+=grav
	if p.y+p.dy>=max_val then
		p.dy*=-0.8
	end
	p.y+=p.dy
	
	//left/right
	if btn(‚¨ÖÔ∏è) and p.x>min_val then
		p.x-=speed
	elseif btn(‚û°Ô∏è) and p.x<max_val then
		p.x+=speed
	end
	
	//forward/back
	if btn(üÖæÔ∏è) and p.z<max_val then
		p.z+=speed
	elseif btn(‚ùé) and p.z>min_val then
		p.z-=speed
	end
end

function _draw()
	cls()
	
	//draw boundaries
	
	//circfill(p.x,p.y,size*(p.z/max_val),8)
	sspr(8,0,16,16,p.x-adjust_z(7),p.y-adjust_z(7),adjust_z(16),adjust_z(16))
	//pset(p.x,p.y,7)
	
	print("x:"..p.x.."\ty:"..p.y.."\tz:"..p.z,0,0,7)
end

function adjust(val)
	return max_dist_scale*(val-64)+64
end

function adjust_z(z)
	return z*((p.z/max_val)+0.5)
end
__gfx__
00000000000008888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000888888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700008888888eee880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700008888888eefee88000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000888888eefffee8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007008888888efffffe8800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000008888888eefffee8800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000088888888eefee88800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000288888888eee888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000288888888888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000288888888888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000028888888888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000022888888888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000002288888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000002228880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
