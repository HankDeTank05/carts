pico-8 cartridge // http://www.pico-8.com
version 29
__lua__

function _init()
	
	speed=0.25

	pos={}
	
	pos.x=63
	pos.y=63
	
	pos.dx=0
	pos.dy=0
	
	pos.nx=0
	pos.ny=0
	
end

function _update60()

	if btn(⬅️) then
		pos.dx=-1
	elseif btn(➡️) then
		pos.dx=1
	else
		pos.dx=0
	end
	
	if btn(⬆️) then
		pos.dy=-1
	elseif btn(⬇️) then
		pos.dy=1
	else
		pos.dy=0
	end
	
	if not(pos.dx==0 and pos.dy==0) then
		pos.nx,pos.ny=normalize(pos.dx,pos.dy)
	else
		pos.nx=0
		pos.ny=0	
	end
	
	pos.x+=pos.nx*speed
	pos.y+=pos.ny*speed

end

function _draw()
	cls()
	
	for x=0,127,8 do
		for y=0,127,8 do
			pset(x,y,1)
		end
	end
	
	pset(pos.x,pos.y,8)
	
	print("dx="..pos.dx.." dy="..pos.dy)
	print("nx="..pos.nx.." dy="..pos.ny)
end

function normalize(x,y)
	local rad=atan2(x,y)
	return cos(rad),sin(rad)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
